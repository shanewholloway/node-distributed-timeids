"use strict";function timeIds(r){null==r&&(r={});var t=r.bodyId||"",i=null!=r.sep?r.sep:"-",e=r.template;"string"==typeof e?e=e.split(i):e?e.length<=1&&(e=[z6].concat(e,[z6])):e=[z6,z6],r=Object.create(r),r.pad_ts=e.shift(),r.pad_c=e.pop(),t=e.join(i)+t,t||(t=randomBodyId());var n=timeDivisions(r),d=r.fmt_id||function(r,t){return[r.sz_div,t,r.sz_c].join(i)};return r.update?function(){var i=n();return 0===i.c&&(t=r.update(t,i)||t),d(i,t)}:function(){return d(n(),t)}}function randomBodyId(r){null==r&&(r={});var t=r.digits||4,i=r.radix||36,e=Math.random()*Math.pow(i,t),n=_curryPadNumber(i,z24.slice(0,t));return(r.prefix||"$")+n(0|e)+(r.suffix||"$")}function timeDivisions(r){null==r&&(r={});var t,i=r.ts_base||timeIds.ts_base,e=_curryPadNumber(r.radix||36,r.pad_ts||z6),n=_curryPadNumber(r.radix||36,r.pad_c||z6),d=r.duration||6e4,u=function(r){var t=Math.floor((r-i)/d),n=t*d+i,u=n+d;return{t0:n,t1:u,div:t,sz_div:e(t)}},a={};return function(){var r=Date.now();if(a.t1>r){var i=a.c+1,e=n(i);if(e===t)throw new Error("Timeid rollover",{sz_c:e,sz_c0:t,c:i,tip:a});return a.c=i,a.sz_c=e,a}return a=u(r),t=n(a.c=0),a.sz_c=t,a}}function _curryPadNumber(r,t){var i=t+"",e=i.length;return function(t){var n=t.toString(r);return(i+n).substr(-e)}}var z6="000000",z24=z6+z6+z6+z6;module.exports=exports=timeIds,timeIds.randomBodyId=randomBodyId,timeIds.ts_base=new Date("2015-01-01T00:00:00").valueOf(),timeIds.timeDivisions=timeDivisions,timeIds._curryPadNumber=_curryPadNumber;